# CLAUDE.md - Project-009 çµ±åˆé–‹ç™ºç’°å¢ƒ

## ğŸš€ Claude Codeå®Œå…¨æœ€é©åŒ–è¨­å®š

### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã‚³ãƒãƒ³ãƒ‰é›†**
```bash
# ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨ï¼ˆæœ€é‡è¦ï¼‰
alias start="python main.py"
alias health="curl localhost:8000/health && tail -f logs/discord_agent.log"
alias stop="pkill -f 'python main.py'"

# TDDé–‹ç™ºã‚µã‚¤ã‚¯ãƒ«
alias red="python -m pytest tests/ -x --tb=short -q"
alias green="python -m pytest tests/ -v --tb=short"
alias refactor="python -m pytest tests/ --cov=src/ --cov-report=term-missing"

# å“è³ªãƒã‚§ãƒƒã‚¯
alias lint="flake8 src/ tests/"
alias type="mypy src/"
alias security="bandit -r src/"

# Gitè‡ªå‹•åŒ–
alias commit-auto="git add -A && git commit -m \"$(git diff --cached --name-only | head -5 | xargs echo)\""
alias push-pr="git push origin $(git branch --show-current) && gh pr create --draft"

# ãƒ‡ãƒãƒƒã‚°ãƒ»ç›£è¦–
alias errors="tail -100 logs/discord_agent.log | grep -E '(ERROR|CRITICAL|FAIL)'"
alias speech="tail -100 logs/discord_agent.log | grep 'è‡ªç™ºç™ºè¨€'"
alias memory="redis-cli info memory && psql $POSTGRESQL_URL -c 'SELECT COUNT(*) FROM unified_memories;'"
```

### **TDD Ã— MCP å¿…é ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**

#### **1. æƒ…å ±åé›†ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¿…é ˆï¼‰**
```bash
# æ–°æ©Ÿèƒ½å®Ÿè£…å‰ã®å¿…é ˆèª¿æŸ»
mcp__context7__resolve-library-id "discord.py"
mcp__context7__get-library-docs "/rapptz/discord.py" --topic "interactions"
mcp__brave-search__brave_web_search "discord.py 2025 best practices async"

# ã‚¨ãƒ©ãƒ¼èª¿æŸ»ãƒ»è§£æ±ºæ™‚
mcp__brave-search__brave_web_search "[specific error message] python solution"
mcp__context7__get-library-docs "/python/cpython" --topic "asyncio"
```

#### **2. TDDå®Ÿè£…ã‚µã‚¤ã‚¯ãƒ«ï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰**
```bash
# Claude CodeãŒè‡ªå‹•åˆ¤æ–­ãƒ»å®Ÿè¡Œã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
# ãƒ¦ãƒ¼ã‚¶ãƒ¼: "èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„"
# â†’ Claude Code: è‡ªå‹•TDDã‚µã‚¤ã‚¯ãƒ«å®Ÿè¡Œ

# Phase 1: MCPèª¿æŸ»ï¼ˆè‡ªå‹•ï¼‰
# â†’ context7 + brave_search ã§æœ€æ–°æŠ€è¡“æƒ…å ±åé›†

# Phase 2: REDï¼ˆè‡ªå‹•ï¼‰
# â†’ å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•ä½œæˆ
red  

# Phase 3: GREENï¼ˆè‡ªå‹•ï¼‰  
# â†’ ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°å®Ÿè£…ã‚’è‡ªå‹•ç”Ÿæˆ
green

# Phase 4: REFACTORï¼ˆè‡ªå‹•ï¼‰
# â†’ å“è³ªãƒã‚§ãƒƒã‚¯ã€ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šç¢ºèª
refactor && lint && type && security
```

### **ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: `âŒ˜â‡§4` â†’ `âŒ˜V` ã§ã‚¨ãƒ©ãƒ¼ç”»é¢ãƒ»UIåˆ†æ
- **ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¢ãƒƒã‚¯**: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§UIå®Ÿè£…æŒ‡ç¤º
- **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«**: `tail -f logs/app.log | head -50` ã§å¤§é‡ãƒ‡ãƒ¼ã‚¿åˆ†æ
- **å›³è¡¨åˆ†æ**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚°ãƒ©ãƒ•ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã®è¦–è¦šçš„ãƒ¬ãƒ“ãƒ¥ãƒ¼

### **ä¸¦è¡Œå‡¦ç†æˆ¦ç•¥ï¼ˆè¤‡æ•°Claudeæ´»ç”¨ï¼‰**
```bash
# Git worktree ã§ä¸¦è¡Œé–‹ç™º
git worktree add ../project-009-feature feature/new-agent
# â†’ ãƒ¡ã‚¤ãƒ³Claude: ãƒ¬ãƒ“ãƒ¥ãƒ¼å°‚ä»»ã€ã‚µãƒ–Claude: å®Ÿè£…å°‚ä»»

# å½¹å‰²åˆ†æ‹…ãƒ‘ã‚¿ãƒ¼ãƒ³
# Claude A: å®Ÿè£…ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“
# Claude B: ãƒ†ã‚¹ãƒˆä½œæˆãƒ»å“è³ªç¢ºèªæ‹…å½“
# Claude C: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æ‹…å½“
```

## ğŸš€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ - Discord ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

### **ç¾åœ¨ã®çŠ¶æ³: v0.2.4ï¼ˆæœ¬ç•ªç¨¼åƒä¸­ï¼‰**
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: Clean Architecture + Fail-faståŸå‰‡å®Ÿè£…å®Œäº†
- **å“è³ªçŠ¶æ³**: é‡è¦ãƒã‚°ã‚¼ãƒ­ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯36é …ç›®å‰Šé™¤ã€æˆ¦ç•¥çš„6ç®‡æ‰€ä¿æŒ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: <2ç§’å¿œç­”ã€50+åŒæ™‚ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œã€99%ç¨¼åƒç‡
- **æ¬¡æœŸäºˆå®š**: v0.3.0 PostgreSQLçµ±åˆï¼ˆé•·æœŸè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å®Ÿè£…ï¼‰

### **ğŸ¤– ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç‰¹æ€§**
- **SPECTRA** ğŸ”µ: çµ±æ‹¬é€²è¡Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
  - **å€‹æ€§**: å†·é™ã ãŒç©æ¥µçš„ã€è¦ªã—ã¿ã‚„ã™ã„å¥³æ€§å£èª¿
  - **å£èª¿**: ã€Œã€œã—ã‚ˆã†ã€ã€Œã€œã—ã¦ã¿ã‚‹ï¼Ÿã€ã€Œã€œã ã¨æ€ã†ã€
  
- **LYNQ** ğŸ”´: æŠ€è¡“åˆ†æã€è«–ç†çš„è§£æ±º
  - **å€‹æ€§**: ç«¯çš„ã§è«–ç†é‡è¦–ã€å¥³æ€§çš„ã ãŒæ„Ÿæƒ…æ§ãˆã‚
  - **å£èª¿**: ã€Œã€œã‚’ç¢ºèªã™ã‚‹ã¨ã€ã€Œã€œã¨ã„ã†æ§‹é€ ã€ã€Œã€œãŒåŠ¹ç‡çš„ã€
  
- **PAZ** ğŸŸ¡: å‰µé€ ç™ºæƒ³ã€ã‚¢ã‚¤ãƒ‡ã‚¢å±•é–‹
  - **å€‹æ€§**: å†·é™ã§å¹³å’Œçš„ã€è¦ªã—ã¿ã‚„ã™ã„å‰µé€ é‡è¦–
  - **å£èª¿**: ã€Œã€œã‹ã‚‚ã—ã‚Œãªã„ã€ã€Œã€œã—ã¦ã¿ãªã„ï¼Ÿã€ã€Œã€œã ã‚ˆã­ã€

### **ğŸ“ é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **
```
src/
â”œâ”€â”€ core/           # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ (application.py, message_processor.py)
â”œâ”€â”€ agents/         # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (supervisor.py, autonomous_speech.py)
â”œâ”€â”€ bots/           # Discordæ¥ç¶š (reception.py, output_bots.py)
â”œâ”€â”€ infrastructure/ # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ (memory_system.py, gemini_client.py)
â””â”€â”€ config/         # è¨­å®š (settings.py)

é‡è¦ãƒ­ã‚°: logs/discord_agent.logï¼ˆçµ±åˆãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
```

## âš™ï¸ æŠ€è¡“ä»•æ§˜ãƒ»ç’°å¢ƒè¨­å®š

### **å¿…é ˆç’°å¢ƒå¤‰æ•°**
```bash
# Discordçµ±åˆï¼ˆå¿…é ˆï¼‰
DISCORD_RECEPTION_TOKEN=<reception_bot_token>
DISCORD_SPECTRA_TOKEN=<spectra_bot_token>  
DISCORD_LYNQ_TOKEN=<lynq_bot_token>
DISCORD_PAZ_TOKEN=<paz_bot_token>

# AIçµ±åˆï¼ˆå¿…é ˆï¼‰
GEMINI_API_KEY=<google_gemini_api_key>

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
REDIS_URL=redis://localhost:6379
POSTGRESQL_URL=postgresql://user:pass@localhost:5432/db

# ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
ENVIRONMENT=production  # ã¾ãŸã¯ test
LOG_LEVEL=INFO
HEALTH_CHECK_PORT=8000

# ç’°å¢ƒåˆ¥è‡ªç™ºç™ºè¨€è¨­å®š
# test: 10ç§’é–“éš”, 100%ç¢ºç‡ï¼ˆé–‹ç™ºãƒ»æ¤œè¨¼ç”¨ï¼‰
# production: 300ç§’é–“éš”, 33%ç¢ºç‡ï¼ˆæœ¬ç•ªé‹ç”¨ï¼‰
```

### **ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶**
- Python 3.9+, Redis 7.0+, PostgreSQL 14+ with pgvector
- 2GB+ RAM, 2+ CPU cores
- datasketchï¼ˆé‡è¤‡æ¤œå‡ºï¼‰

### **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–**
- å¿œç­”æ™‚é–“: <2ç§’å¿…é ˆ
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 80%ä»¥ä¸Šå¿…é ˆ
- ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç‡: >99%
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: <1.5GB

## ğŸš€ è‡ªå‹•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ï¼ˆClaude Codeä¸€å…ƒç®¡ç†ï¼‰

### **1. è‡ªå‹•TDDã‚µã‚¤ã‚¯ãƒ«**
**ãƒˆãƒªã‚¬ãƒ¼**: "å®Ÿè£…ã—ã¦ãã ã•ã„", "æ©Ÿèƒ½è¿½åŠ ", "ä¿®æ­£", "æ”¹å–„"
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚: "èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„"
â†“
Claude Codeè‡ªå‹•å®Ÿè¡Œ:
1. MCPèª¿æŸ» â†’ context7 + brave_search ã§æœ€æ–°æŠ€è¡“åé›†
2. RED â†’ å¤±æ•—ãƒ†ã‚¹ãƒˆè‡ªå‹•ä½œæˆ
3. GREEN â†’ æœ€å°å®Ÿè£…è‡ªå‹•ç”Ÿæˆ  
4. REFACTOR â†’ å“è³ªãƒã‚§ãƒƒã‚¯ãƒ»ã‚«ãƒãƒ¬ãƒƒã‚¸80%ç¢ºèª
```

### **2. è‡ªå‹•ã‚¨ãƒ©ãƒ¼è§£æ±ºãƒ«ãƒ¼ãƒ—**
**ãƒˆãƒªã‚¬ãƒ¼**: "ã‚¨ãƒ©ãƒ¼", "å‹•ã‹ãªã„", "å¤±æ•—", "ä¾‹å¤–"
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚: "ã“ã®ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¦ãã ã•ã„" 
â†“
Claude Codeè‡ªå‹•å®Ÿè¡Œ:
1. ã‚¨ãƒ©ãƒ¼åˆ†æ â†’ ãƒ­ã‚°è§£æã€ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹èª¿æŸ»
2. MCPèª¿æŸ» â†’ brave_search ã§è§£æ±ºç­–åé›†
3. ä»®èª¬æ¤œè¨¼ â†’ æ®µéšçš„ãƒ‡ãƒãƒƒã‚°å®Ÿè£…
4. ä¿®æ­£å®Ÿè£… â†’ ãƒ†ã‚¹ãƒˆç¢ºèªãƒ»çµ±åˆæ¤œè¨¼
```

### **3. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤æ¤œè¨¼**
**ãƒˆãƒªã‚¬ãƒ¼**: "ã‚³ãƒŸãƒƒãƒˆ", "ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ", "ãƒ‡ãƒ—ãƒ­ã‚¤"
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚: "æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãã ã•ã„"
â†“
Claude Codeè‡ªå‹•å®Ÿè¡Œ:
1. å“è³ªãƒã‚§ãƒƒã‚¯ â†’ å…¨ãƒ†ã‚¹ãƒˆãƒ»é™çš„è§£æãƒ»ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
2. ç’°å¢ƒæ¤œè¨¼ â†’ ä¾å­˜é–¢ä¿‚ãƒ»è¨­å®šãƒ»ã‚¤ãƒ³ãƒ•ãƒ©ç¢ºèª
3. æ‰¿èªåˆ¤å®š â†’ 100%(å³æ‰¿èª) / 80%+(æ¡ä»¶ä»˜ã) / 79%ä»¥ä¸‹(å´ä¸‹)
4. çµæœå ±å‘Š â†’ è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆãƒ»æ¬¡ã‚¹ãƒ†ãƒƒãƒ—æç¤º
```

### **åˆ©ç”¨ä¾‹**
```bash
# å¾“æ¥ï¼ˆå‰Šé™¤æ¸ˆã¿ãƒ»è¤‡é›‘ï¼‰: /tdd-cycle, /fix-issue, /debug-loop, /deploy-check
# æ–°æ–¹å¼ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãƒ»è‡ªå‹•ï¼‰: è‡ªç„¶è¨€èªã§è¦æ±‚
"æ–°ã—ã„ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ãã ã•ã„"         â†’ è‡ªå‹•TDDã‚µã‚¤ã‚¯ãƒ«
"PostgreSQLæ¥ç¶šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™"        â†’ è‡ªå‹•ã‚¨ãƒ©ãƒ¼è§£æ±º  
"å¤‰æ›´ã‚’mainãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã—ãŸã„ã§ã™"        â†’ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤æ¤œè¨¼
```

## ğŸ”§ é–‹ç™ºåŸå‰‡ãƒ»å“è³ªåŸºæº–

### **TDDé–‹ç™ºåŸå‰‡ï¼ˆå¿…é ˆï¼‰**
1. **RED**: MCPã§ä»•æ§˜èª¿æŸ» â†’ å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆ
2. **GREEN**: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°å®Ÿè£…ï¼ˆãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°OKï¼‰
3. **REFACTOR**: MCPã§ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ç¢ºèª â†’ å“è³ªå‘ä¸Š

### **Fail-faståŸå‰‡ï¼ˆå¿…é ˆï¼‰**
- ã‚¨ãƒ©ãƒ¼æ™‚å³åº§åœæ­¢ã€éš è”½ç„¡ã—
- æˆ¦ç•¥çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯6ç®‡æ‰€ã®ã¿ä¿æŒï¼ˆã‚·ã‚¹ãƒ†ãƒ ç¶™ç¶šæ€§ï¼‰
- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§é‡è¦–ã€ä¸å®Œå…¨ãƒ‡ãƒ¼ã‚¿ã§ã®å‡¦ç†ç¦æ­¢

### **MCPä½¿ç”¨ç¾©å‹™**
- **context7å¿…é ˆå ´é¢**: æ–°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨ã€APIã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¯¾å¿œ
- **brave searchå¿…é ˆå ´é¢**: ã‚¨ãƒ©ãƒ¼è§£æ±ºã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£èª¿æŸ»
- **æƒ…å ±é®®åº¦ãƒ«ãƒ¼ãƒ«**: 48æ™‚é–“ä»¥å†…ã®æƒ…å ±ä½¿ç”¨å¿…é ˆ

### **å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**
- [ ] ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆå®Ÿè£…
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š
- [ ] MCPæƒ…å ±åé›†å®Œäº†ï¼ˆ48æ™‚é–“ä»¥å†…ï¼‰
- [ ] å…¨ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹
- [ ] ãƒªãƒ³ãƒˆãƒ»å‹ãƒã‚§ãƒƒã‚¯é€šé
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯é€šé

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨ãƒ»ã‚¿ã‚¹ã‚¯ç®¡ç†

### **åŸºæœ¬ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨**
```bash
# ã‚·ã‚¹ãƒ†ãƒ é–‹å§‹ãƒ»ç›£è¦–
python main.py
curl localhost:8000/health
tail -f logs/discord_agent.log

# ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚³ãƒãƒ³ãƒ‰
/task commit development "èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…"
/task change creation "ã‚¢ã‚¤ãƒ‡ã‚¢ãƒ–ãƒ¬ã‚¹ãƒˆ"

# ã‚·ã‚¹ãƒ†ãƒ åœæ­¢
Ctrl+C  # ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³
```

### **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé‹ç”¨ãƒ»å€‹æ€§**
- **ãƒãƒ£ãƒ³ãƒãƒ«ç‰¹åŒ–**: command-centerï¼ˆSpectraä¸­å¿ƒï¼‰ã€developmentï¼ˆLynQä¸­å¿ƒï¼‰ã€creationï¼ˆPazä¸­å¿ƒï¼‰ã€loungeï¼ˆå‡ç­‰ï¼‰
- **è‡ªç™ºç™ºè¨€**: ç’°å¢ƒåˆ¥é–“éš”ï¼ˆtest: 10ç§’ã€production: 5åˆ†ï¼‰
- **ã‚¿ã‚¹ã‚¯ç®¡ç†**: ã‚¯ãƒ­ã‚¹ãƒãƒ£ãƒ³ãƒãƒ«ç§»è¡Œå¯¾å¿œã€Rediså±¥æ­´ä¿å­˜

### **é•·æœŸè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ï¼ˆv0.3.0äºˆå®šï¼‰**
- **å‡¦ç†æ™‚åˆ»**: æ¯æ—¥06:00è‡ªå‹•å®Ÿè¡Œï¼ˆ3-APIå‡¦ç†ï¼‰
- **æ—¥å ±ã‚·ã‚¹ãƒ†ãƒ **: è¨˜æ†¶åŒ–å®Œäº†æ¬¡ç¬¬è‡ªå‹•é€ä¿¡
- **æ¤œç´¢æ©Ÿèƒ½**: PostgreSQL pgvectorå®Œå…¨å®Ÿè£…

## ğŸš¨ ç·Šæ€¥æ™‚ãƒ»ãƒ‡ãƒãƒƒã‚°å¯¾å¿œ

### **ç·Šæ€¥åœæ­¢ãƒ»å¾©æ—§**
```bash
# ã‚·ã‚¹ãƒ†ãƒ ç·Šæ€¥åœæ­¢
pkill -f "python main.py" && docker-compose down

# ãƒ˜ãƒ«ã‚¹ç·Šæ€¥ç¢ºèª  
curl localhost:8000/health && docker ps && redis-cli ping

# ãƒ­ã‚°ç·Šæ€¥åˆ†æ
tail -100 logs/discord_agent.log | grep -E "(ERROR|CRITICAL|FAIL)"
```

### **ã‚ˆãã‚ã‚‹å•é¡Œã¨å¯¾å¿œ**
- **Discordæ¥ç¶šå¤±æ•—**: ãƒˆãƒ¼ã‚¯ãƒ³ç¢ºèªã€ãƒœãƒƒãƒˆæ¨©é™ç¢ºèª
- **Redis/PostgreSQLæ¥ç¶š**: ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèªã€URLè¨­å®šç¢ºèª
- **è‡ªç™ºç™ºè¨€åœæ­¢**: ENVIRONMENTè¨­å®šç¢ºèªã€ãƒ­ã‚°ã§ã‚¨ãƒ©ãƒ¼ç‰¹å®š
- **ãƒ†ã‚¹ãƒˆå¤±æ•—**: MCPæœ€æ–°æƒ…å ±ç¢ºèªã€ä¾å­˜é–¢ä¿‚æ›´æ–°

### **Claude Codeè‡ªå‹•åˆ¶å¾¡ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
Claude CodeãŒçŠ¶æ³ã‚’è‡ªå‹•åˆ¤æ–­ã—ã€é©åˆ‡ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
1. **æ–°æ©Ÿèƒ½å®Ÿè£…è¦æ±‚** â†’ è‡ªå‹•TDDã‚µã‚¤ã‚¯ãƒ«å®Ÿè¡Œ
2. **ã‚¨ãƒ©ãƒ¼ãƒ»ãƒã‚°å ±å‘Š** â†’ è‡ªå‹•ã‚¨ãƒ©ãƒ¼è§£æ±ºãƒ«ãƒ¼ãƒ—å®Ÿè¡Œ  
3. **ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤å‰** â†’ è‡ªå‹•å“è³ªæ¤œè¨¼å®Ÿè¡Œ
4. **MCPæƒ…å ±åé›†** â†’ 48æ™‚é–“ä»¥å†…æœ€æ–°æƒ…å ±ã‚’è‡ªå‹•å–å¾—

## ğŸ“‹ é‡è¦åˆ¶ç´„ãƒ»æ³¨æ„äº‹é …

### **ç¾åœ¨ã®åˆ¶é™äº‹é …ï¼ˆv0.2.4ï¼‰**
- PostgreSQLæ¤œç´¢æ©Ÿèƒ½: ä¸€æ™‚ç„¡åŠ¹åŒ–ï¼ˆv0.3.0ã§å¾©æ´»äºˆå®šï¼‰
- APIåˆ¶é™: Embedding 15 RPMã€Geminié€šå¸¸åˆ©ç”¨
- æˆ¦ç•¥çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: 6ç®‡æ‰€ä¿æŒï¼ˆã‚·ã‚¹ãƒ†ãƒ ç¶™ç¶šæ€§ã®ãŸã‚ï¼‰

### **Git & GitHubçµ±åˆï¼ˆClaude Codeè‡ªå‹•å®Ÿè¡Œï¼‰**
GitHubé€£æºã¯ä»¥ä¸‹ã®æ¡ä»¶ã§è‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
- **Issueä¿®æ­£è¦æ±‚**: Issueç•ªå·æŒ‡å®šã§TDDä¿®æ­£ã‚µã‚¤ã‚¯ãƒ«è‡ªå‹•å®Ÿè¡Œ
- **PRä½œæˆè¦æ±‚**: å¤‰æ›´å†…å®¹åˆ†æãƒ»é©åˆ‡ãªPRè‡ªå‹•ä½œæˆ
- **ãƒ‡ãƒ—ãƒ­ã‚¤å‰æ¤œè¨¼**: å“è³ªåŸºæº–é”æˆç¢ºèªãƒ»æ‰¿èªåˆ¤å®šè‡ªå‹•å®Ÿè¡Œ

### **ç”»åƒãƒ»UIæ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**
- ã‚¨ãƒ©ãƒ¼ç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆåˆ†æ
- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¢ãƒƒã‚¯ã‹ã‚‰ã®å®Ÿè£…æŒ‡ç¤º
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚°ãƒ©ãƒ•ã®è¦–è¦šçš„åˆ†æ
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã§ã®è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼

---

## ğŸ¤– **Claude Codeè‡ªå‹•åˆ¶å¾¡ä»•æ§˜ï¼ˆè©³ç´°ï¼‰**

### **1. è‡ªå‹•TDDã‚µã‚¤ã‚¯ãƒ«ï¼ˆæ–°æ©Ÿèƒ½ãƒ»ä¿®æ­£å®Ÿè£…ï¼‰**

**è‡ªå‹•ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶**:
- ã€Œæ–°æ©Ÿèƒ½å®Ÿè£…ã€ã€Œæ©Ÿèƒ½è¿½åŠ ã€è¦æ±‚
- ã€Œãƒã‚°ä¿®æ­£ã€ã€ŒIssueè§£æ±ºã€è¦æ±‚
- ã€Œæ”¹å–„ã€ã€Œãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã€è¦æ±‚

**è‡ªå‹•å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**:
```
Phase 1: MCPæƒ…å ±åé›†ï¼ˆå¿…é ˆãƒ»è‡ªå‹•ï¼‰
â”œâ”€ é–¢é€£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæœ€æ–°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (context7)
â”œâ”€ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹èª¿æŸ» (brave_search) 
â”œâ”€ æ—¢å­˜ã‚³ãƒ¼ãƒ‰åˆ†æ (grep/glob)
â””â”€ 48æ™‚é–“ä»¥å†…æƒ…å ±ç¢ºèª

Phase 2: TDD Redï¼ˆè‡ªå‹•ãƒ†ã‚¹ãƒˆä½œæˆï¼‰
â”œâ”€ è¦ä»¶åˆ†æãƒ»ãƒ†ã‚¹ãƒˆä»•æ§˜è¨­è¨ˆ
â”œâ”€ å¤±æ•—ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆåŸºæœ¬ãƒ»ã‚¨ãƒƒã‚¸ãƒ»çµ±åˆï¼‰
â”œâ”€ pytestå®Ÿè¡Œãƒ»å¤±æ•—ç¢ºèª
â””â”€ Redæ®µéšå®Œäº†ç¢ºèª

Phase 3: TDD Greenï¼ˆè‡ªå‹•æœ€å°å®Ÿè£…ï¼‰
â”œâ”€ MCPãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹é©ç”¨
â”œâ”€ ãƒ†ã‚¹ãƒˆé€šéæœ€å°å®Ÿè£…
â”œâ”€ pytestå®Ÿè¡Œãƒ»æˆåŠŸç¢ºèª  
â””â”€ Greenæ®µéšå®Œäº†ç¢ºèª

Phase 4: TDD Refactorï¼ˆè‡ªå‹•å“è³ªå‘ä¸Šï¼‰
â”œâ”€ flake8ãƒ»mypyãƒ»banditå®Ÿè¡Œ
â”œâ”€ ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šç¢ºèª
â”œâ”€ å…¨ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
â””â”€ å“è³ªåŸºæº–é”æˆç¢ºèª
```

### **2. è‡ªå‹•ã‚¨ãƒ©ãƒ¼è§£æ±ºãƒ«ãƒ¼ãƒ—ï¼ˆãƒ‡ãƒãƒƒã‚°ãƒ»ä¿®æ­£ï¼‰**

**è‡ªå‹•ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶**:
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»ä¾‹å¤–å ±å‘Š
- ã€Œå‹•ã‹ãªã„ã€ã€Œå¤±æ•—ã™ã‚‹ã€å ±å‘Š
- ãƒ­ã‚°ã‚¨ãƒ©ãƒ¼ãƒ»ã‚·ã‚¹ãƒ†ãƒ ç•°å¸¸å ±å‘Š

**è‡ªå‹•å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**:
```
Phase 1: ã‚¨ãƒ©ãƒ¼åˆ†æï¼ˆè‡ªå‹•è¨ºæ–­ï¼‰
â”œâ”€ ãƒ­ã‚°åˆ†æãƒ»ã‚¨ãƒ©ãƒ¼åˆ†é¡
â”œâ”€ ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèªï¼ˆãƒ˜ãƒ«ã‚¹ãƒ»ãƒ—ãƒ­ã‚»ã‚¹ãƒ»ãƒªã‚½ãƒ¼ã‚¹ï¼‰
â”œâ”€ MCPæœ€æ–°è§£æ±ºç­–èª¿æŸ»
â””â”€ ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ç‰¹å®šï¼ˆæ¥ç¶š/ãƒ¡ãƒ¢ãƒª/ãƒ‡ãƒ¼ã‚¿/ä¾å­˜é–¢ä¿‚ï¼‰

Phase 2: ä»®èª¬æ¤œè¨¼ï¼ˆè‡ªå‹•ç¢ºèªï¼‰
â”œâ”€ ç’°å¢ƒãƒ»è¨­å®šãƒ»ä¾å­˜é–¢ä¿‚ç¢ºèª
â”œâ”€ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹æ¥ç¶šç¢ºèª
â”œâ”€ ãƒªã‚½ãƒ¼ã‚¹ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª
â””â”€ æ ¹æœ¬åŸå› ç‰¹å®š

Phase 3: ä¿®æ­£å®Ÿè£…ï¼ˆè‡ªå‹•ä¿®æ­£ï¼‰
â”œâ”€ MCPãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹é©ç”¨
â”œâ”€ ãƒ‡ãƒãƒƒã‚°å¼·åŒ–å®Ÿè£…
â”œâ”€ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„
â””â”€ ç¶™ç¶šç›£è¦–è¨­å®š

Phase 4: æ¤œè¨¼ãƒ»è¨˜éŒ²ï¼ˆè‡ªå‹•ç¢ºèªï¼‰
â”œâ”€ ä¿®æ­£å¾Œå‹•ä½œç¢ºèª
â”œâ”€ ãƒ‡ãƒãƒƒã‚°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”œâ”€ ãƒŠãƒ¬ãƒƒã‚¸è“„ç©ãƒ»å…±æœ‰
â””â”€ å†ç™ºé˜²æ­¢ç­–å®Ÿè£…
```

### **3. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å‰æ¤œè¨¼ï¼ˆå“è³ªä¿è¨¼ï¼‰**

**è‡ªå‹•ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶**:
- git commitå‰
- PRä½œæˆå‰  
- æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å‰

**è‡ªå‹•å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**:
```
Phase 1: ã‚³ãƒ¼ãƒ‰å“è³ªç¢ºèªï¼ˆè‡ªå‹•ï¼‰
â”œâ”€ é™çš„è§£æï¼ˆflake8ãƒ»mypyãƒ»banditãƒ»radonï¼‰
â”œâ”€ ä¾å­˜é–¢ä¿‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»
â”œâ”€ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ»è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
â””â”€ å“è³ªåŸºæº–é”æˆç¢ºèª

Phase 2: å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆè‡ªå‹•ï¼‰
â”œâ”€ ãƒ¦ãƒ‹ãƒƒãƒˆãƒ»çµ±åˆãƒ»E2Eãƒ†ã‚¹ãƒˆ
â”œâ”€ ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šç¢ºèª
â”œâ”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
â””â”€ ãƒ†ã‚¹ãƒˆåŸºæº–é”æˆç¢ºèª

Phase 3: ç’°å¢ƒãƒ»æ¥ç¶šç¢ºèªï¼ˆè‡ªå‹•ï¼‰
â”œâ”€ æœ¬ç•ªç’°å¢ƒè¨­å®šæ¤œè¨¼
â”œâ”€ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ç–é€šç¢ºèª  
â”œâ”€ ãƒªã‚½ãƒ¼ã‚¹ãƒ»è² è·ãƒ†ã‚¹ãƒˆ
â””â”€ æ¥ç¶šåŸºæº–é”æˆç¢ºèª

Phase 4: ãƒ‡ãƒ—ãƒ­ã‚¤åˆ¤å®šï¼ˆè‡ªå‹•ï¼‰
â”œâ”€ ç·åˆçµæœè©•ä¾¡ï¼ˆ100%/80%ä»¥ä¸Š/<80%ï¼‰
â”œâ”€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
â”œâ”€ æ‰¿èªãƒ»æ¡ä»¶ä»˜ããƒ»å´ä¸‹åˆ¤å®š
â””â”€ æ¬¡ã‚¹ãƒ†ãƒƒãƒ—æç¤º
```

### **4. å“è³ªåŸºæº–ï¼ˆè‡ªå‹•è©•ä¾¡åŸºæº–ï¼‰**

```
å¿…é ˆåŸºæº–ï¼ˆFail-fastï¼‰:
â”œâ”€ ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 80%
â”œâ”€ é™çš„è§£æ = å…¨ãƒã‚§ãƒƒã‚¯é€šé
â”œâ”€ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ = è„†å¼±æ€§ã‚¼ãƒ­
â”œâ”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ = å¿œç­”<2ç§’ãƒ»ãƒ¡ãƒ¢ãƒª<1.5GB
â””â”€ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ = å…¨æ¥ç¶šç¢ºèª

MCPæ´»ç”¨åŸºæº–:
â”œâ”€ 48æ™‚é–“ä»¥å†…æƒ…å ±åé›†å¿…é ˆ
â”œâ”€ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹é©ç”¨å¿…é ˆ
â”œâ”€ æŠ€è¡“æ¤œè¨¼ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¢ºèªå¿…é ˆ
â””â”€ æ ¹æ‹ ã‚ã‚‹è§£æ±ºç­–é¸æŠå¿…é ˆ

è‡ªå‹•ç¶™ç¶šåŸºæº–:
â”œâ”€ å„æ®µéšã§å“è³ªãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
â”œâ”€ åŸºæº–æœªé”æˆæ™‚ã¯å³åº§åœæ­¢ãƒ»ä¿®æ­£
â”œâ”€ ã‚¨ãƒ©ãƒ¼æ™‚ã¯è‡ªå‹•å›å¾©ãƒ»å†è©¦è¡Œ
â””â”€ å…¨å·¥ç¨‹å®Œäº†ã¾ã§è‡ªå‹•ç¶™ç¶š
```

---

## ğŸ“– è©³ç´°æƒ…å ±ãƒªãƒ³ã‚¯

- **é‹ç”¨ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: `docs/é‹ç”¨ã‚¬ã‚¤ãƒ‰.md`
- **è¦ä»¶ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: `docs/å—å…¥åŸºæº–.md`
- **å°†æ¥å®Ÿè£…è¨ˆç”»**: `docs/å®Ÿè£…è¨ˆç”».md`

**é‡è¦**: Claude Codeã¯ä¸Šè¨˜ã®è‡ªå‹•åˆ¶å¾¡ä»•æ§˜ã«åŸºã¥ã„ã¦å‹•ä½œã—ã¾ã™ã€‚æ‰‹å‹•ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ã¯ä¸è¦ã§ã™ã€‚