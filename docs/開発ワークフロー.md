# é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ - TDD Ã— MCP çµ±åˆé–‹ç™º

## ğŸ¯ é–‹ç™ºå“²å­¦

### æ ¸å¿ƒåŸå‰‡
```
TDDï¼ˆå“è³ªä¿è¨¼ï¼‰ Ã— MCPï¼ˆæœ€æ–°æƒ…å ±ï¼‰ Ã— Fail-fastï¼ˆä¿¡é ¼æ€§ï¼‰ Ã— è‡ªå‹•åŒ–ï¼ˆåŠ¹ç‡æ€§ï¼‰
= æŒç¶šå¯èƒ½ãªé«˜å“è³ªé–‹ç™º
```

### é–‹ç™ºã‚µã‚¤ã‚¯ãƒ«
```
æ¢ç´¢ â†’ è¨ˆç”» â†’ MCPèª¿æŸ» â†’ TDDå®Ÿè£… â†’ å“è³ªç¢ºèª â†’ çµ±åˆ â†’ ç¶™ç¶šæ”¹å–„
   â†‘                                                           â†“
   â†â†â†â†â† ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹é©å¿œçš„æ”¹å–„ â†â†â†â†â†â†â†â†â†â†â†â†
```

## ğŸš€ åŸºæœ¬é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ–°æ©Ÿèƒ½é–‹ç™ºï¼ˆæ¨™æº–ãƒ•ãƒ­ãƒ¼ï¼‰

#### Step 1: æ¢ç´¢ãƒ»è¦ä»¶åˆ†æ
```bash
# æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ç†è§£
grep -r "é–¢é€£ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰" src/ --include="*.py"
find tests/ -name "*é–¢é€£æ©Ÿèƒ½*" -type f

# é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèª
cat docs/ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£.md | grep -A 10 "é–¢é€£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£"
```

#### Step 2: MCPæƒ…å ±åé›†ï¼ˆå¿…é ˆï¼‰
```bash
# ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæœ€æ–°æƒ…å ±å–å¾—
mcp__context7__resolve-library-id "discord.py"
mcp__context7__get-library-docs "/rapptz/discord.py" --topic "æ–°æ©Ÿèƒ½é–¢é€£"

# ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹èª¿æŸ»
mcp__brave-search__brave_web_search "æ–°æ©Ÿèƒ½ python implementation 2025"
mcp__brave-search__brave_web_search "æ–°æ©Ÿèƒ½ testing patterns best practices"

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®
mcp__brave-search__brave_web_search "æ–°æ©Ÿèƒ½ security considerations python"
```

#### Step 3: TDDå®Ÿè£…ï¼ˆã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨ï¼‰
```bash
# TDDã‚µã‚¤ã‚¯ãƒ«è‡ªå‹•å®Ÿè¡Œ
/tdd-cycle "æ–°æ©Ÿèƒ½å"

# ã¾ãŸã¯æ‰‹å‹•TDDã‚µã‚¤ã‚¯ãƒ«
# RED: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
vim tests/test_æ–°æ©Ÿèƒ½.py
python -m pytest tests/test_æ–°æ©Ÿèƒ½.py -v  # å¤±æ•—ç¢ºèª

# GREEN: æœ€å°å®Ÿè£…
vim src/æ–°æ©Ÿèƒ½.py
python -m pytest tests/test_æ–°æ©Ÿèƒ½.py -v  # æˆåŠŸç¢ºèª

# REFACTOR: å“è³ªå‘ä¸Š
python -m pytest tests/ --cov=src/ --cov-report=term-missing
flake8 src/ tests/
mypy src/
```

#### Step 4: çµ±åˆãƒ»å“è³ªç¢ºèª
```bash
# å…¨ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
python -m pytest tests/ -v

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
python -m pytest tests/test_performance.py -v

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
bandit -r src/

# ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ†ã‚¹ãƒˆ
python main.py &
MAIN_PID=$!
sleep 10
curl localhost:8000/health
kill $MAIN_PID
```

### ãƒã‚°ä¿®æ­£ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### GitHub Issueä¿®æ­£
```bash
# Issueä¿®æ­£è‡ªå‹•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
/fix-issue 123  # Issueç•ªå·æŒ‡å®š

# æ‰‹å‹•ä¿®æ­£ãƒ•ãƒ­ãƒ¼
# 1. Issueåˆ†æ
gh issue view 123
# 2. MCPèª¿æŸ»
mcp__brave-search__brave_web_search "[ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸] python solution"
# 3. TDDä¿®æ­£ï¼ˆå†ç¾ãƒ†ã‚¹ãƒˆâ†’ä¿®æ­£â†’ç¢ºèªï¼‰
# 4. PRä½œæˆ
```

#### ãƒ‡ãƒãƒƒã‚°ãƒ«ãƒ¼ãƒ—
```bash
# ãƒ‡ãƒãƒƒã‚°è‡ªå‹•åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
/debug-loop "ã‚¨ãƒ©ãƒ¼å†…å®¹"

# æ‰‹å‹•ãƒ‡ãƒãƒƒã‚°ãƒ•ãƒ­ãƒ¼
# 1. ã‚¨ãƒ©ãƒ¼æƒ…å ±åé›†
tail -200 logs/discord_agent.log | grep -A 10 -B 5 "ã‚¨ãƒ©ãƒ¼"
# 2. MCPèª¿æŸ»
mcp__brave-search__brave_web_search "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ troubleshooting"
# 3. ä»®èª¬æ¤œè¨¼ãƒ»ä¿®æ­£å®Ÿè£…
# 4. ç¶™ç¶šç›£è¦–è¨­å®š
```

## ğŸ”§ ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç†

### å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
```bash
# å…¨å“è³ªãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
alias quality-check="
flake8 src/ tests/ &&
mypy src/ &&
bandit -r src/ &&
python -m pytest tests/ --cov=src/ --cov-fail-under=80 &&
echo 'âœ… å…¨å“è³ªãƒã‚§ãƒƒã‚¯é€šé'
"

quality-check
```

### å¿…é ˆå“è³ªåŸºæº–
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 80%ä»¥ä¸Šå¿…é ˆ
- **ãƒªãƒ³ãƒˆ**: PEP8æº–æ‹ ï¼ˆflake8ï¼‰
- **å‹ãƒã‚§ãƒƒã‚¯**: mypyé€šé
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: bandité€šé
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: <2ç§’å¿œç­”æ™‚é–“

### ã‚³ãƒ¼ãƒ‰å“è³ªãƒ„ãƒ¼ãƒ«è¨­å®š
```bash
# .flake8
[flake8]
max-line-length = 88
extend-ignore = E203,W503
exclude = venv,migrations

# mypy.ini
[mypy]
python_version = 3.9
ignore_missing_imports = True
strict_optional = True

# pyproject.toml (bandit)
[tool.bandit]
exclude_dirs = ["tests", "venv"]
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
```
         E2E Tests (10%)
        /              \
    Integration (30%)    
   /                    \
Unit Tests (60%)         
```

### ãƒ†ã‚¹ãƒˆåˆ†é¡ãƒ»å®Ÿè¡Œ
```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆ60%ï¼‰
python -m pytest tests/unit/ -v --tb=short

# çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ30%ï¼‰
python -m pytest tests/integration/ -v --tb=short

# E2Eãƒ†ã‚¹ãƒˆï¼ˆ10%ï¼‰
python -m pytest tests/e2e/ -v --tb=short

# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
python -m pytest tests/ -v --cov=src/
```

### TDDå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
```python
# tests/test_new_feature.py
import pytest
from src.module import NewFeature

class TestNewFeature:
    def test_basic_functionality(self):
        """åŸºæœ¬æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ"""
        # Arrange: ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™
        feature = NewFeature()
        
        # Act: æ©Ÿèƒ½å®Ÿè¡Œ
        result = feature.execute("input")
        
        # Assert: æœŸå¾…çµæœç¢ºèª
        assert result == "expected_output"
    
    def test_edge_cases(self):
        """ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
        feature = NewFeature()
        
        # å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ
        with pytest.raises(ValueError):
            feature.execute("")
    
    def test_integration(self):
        """çµ±åˆãƒ†ã‚¹ãƒˆ"""
        # ä»–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã®é€£æºãƒ†ã‚¹ãƒˆ
        pass
```

## ğŸ¤– MCPæ´»ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### MCPä½¿ç”¨ç¾©å‹™
- **æ–°æ©Ÿèƒ½å®Ÿè£…å‰**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæœ€æ–°æƒ…å ±ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹èª¿æŸ»å¿…é ˆ
- **ã‚¨ãƒ©ãƒ¼è§£æ±ºæ™‚**: æœ€æ–°ã®è§£æ±ºæ–¹æ³•èª¿æŸ»å¿…é ˆ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: æœ€æ–°ã®æœ€é©åŒ–æ‰‹æ³•èª¿æŸ»å¿…é ˆ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾å¿œ**: è„†å¼±æ€§æƒ…å ±ãƒ»å¯¾ç­–èª¿æŸ»å¿…é ˆ

### æƒ…å ±é®®åº¦ç®¡ç†
- **48æ™‚é–“ãƒ«ãƒ¼ãƒ«**: ä½¿ç”¨ã™ã‚‹æŠ€è¡“æƒ…å ±ã¯48æ™‚é–“ä»¥å†…ã®ã‚‚ã®ã‚’ä½¿ç”¨
- **èª¿æŸ»ãƒ­ã‚°è¨˜éŒ²**: PRæ™‚ã«MCPèª¿æŸ»å†…å®¹ã‚’è¨˜éŒ²
- **ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹æ›´æ–°**: å®šæœŸçš„ãªæƒ…å ±æ›´æ–°ç¢ºèª

### MCPã‚¯ã‚¨ãƒªãƒ‘ã‚¿ãƒ¼ãƒ³
```bash
# ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä»•æ§˜ç¢ºèª
mcp__context7__resolve-library-id "library-name"
mcp__context7__get-library-docs "/org/project" --topic "specific-topic"

# å•é¡Œè§£æ±ºèª¿æŸ»
mcp__brave-search__brave_web_search "error message python solution 2025"
mcp__brave-search__brave_web_search "performance optimization python best practices"

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£èª¿æŸ»
mcp__brave-search__brave_web_search "security vulnerability library-name"
mcp__brave-search__brave_web_search "secure coding python guidelines"
```

## ğŸ”„ CI/CDçµ±åˆ

### GitHub Actionsè¨­å®š
```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Set up Python
      uses: actions/setup-python@v3
      with:
        python-version: 3.9
    
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
    
    - name: Quality Checks
      run: |
        flake8 src/ tests/
        mypy src/
        bandit -r src/
    
    - name: Tests with Coverage
      run: |
        pytest tests/ --cov=src/ --cov-fail-under=80
    
    - name: System Integration Test
      run: |
        timeout 30s python main.py &
        sleep 10
        curl -f localhost:8000/health
```

### ãƒ‡ãƒ—ãƒ­ã‚¤å‰ãƒã‚§ãƒƒã‚¯
```bash
# ãƒ‡ãƒ—ãƒ­ã‚¤å‰å®Œå…¨ãƒã‚§ãƒƒã‚¯
/deploy-check production

# æ‰‹å‹•ãƒã‚§ãƒƒã‚¯é …ç›®
# 1. å…¨ãƒ†ã‚¹ãƒˆé€šé
# 2. ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š
# 3. å“è³ªãƒã‚§ãƒƒã‚¯é€šé
# 4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯é€šé
# 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–é”æˆ
# 6. å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹æ¥ç¶šç¢ºèª
```

## ğŸŒŸ é«˜åº¦ãªé–‹ç™ºãƒ‘ã‚¿ãƒ¼ãƒ³

### ä¸¦è¡Œé–‹ç™ºï¼ˆè¤‡æ•°Claudeæ´»ç”¨ï¼‰
```bash
# Git worktree ã§ä¸¦è¡Œé–‹ç™ºç’°å¢ƒæ§‹ç¯‰
git worktree add ../project-009-feature feature/new-feature

# å½¹å‰²åˆ†æ‹…ãƒ‘ã‚¿ãƒ¼ãƒ³
# Claude A: å®Ÿè£…ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“
# Claude B: ãƒ†ã‚¹ãƒˆä½œæˆãƒ»å“è³ªç¢ºèªæ‹…å½“
# Claude C: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æ‹…å½“
```

### ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«é–‹ç™º
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: ã‚¨ãƒ©ãƒ¼ç”»é¢ãƒ»UIåˆ†æã§å•é¡Œç‰¹å®š
- **ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¢ãƒƒã‚¯**: UIå®Ÿè£…æŒ‡ç¤ºã§ã®è¦–è¦šçš„é–‹ç™º
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚°ãƒ©ãƒ•**: è¦–è¦šçš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³**: è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã®æ§‹é€ ç¢ºèª

### ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æˆ¦ç•¥
```bash
# å®‰å…¨ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹é †
# 1. ç¾çŠ¶ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
python -m pytest tests/ --cov=src/ --cov-report=html

# 2. MCPæœ€æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³èª¿æŸ»
mcp__brave-search__brave_web_search "python refactoring patterns 2025"

# 3. æ®µéšçš„ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿè¡Œ
# 4. å„æ®µéšã§ã®ãƒ†ã‚¹ãƒˆç¢ºèª
# 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»å“è³ªç¶­æŒç¢ºèª
```

## ğŸ“Š ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»KPIç®¡ç†

### é–‹ç™ºåŠ¹ç‡æŒ‡æ¨™
- **ã‚³ãƒ¼ãƒ‰è¡Œæ•°/æ—¥**: å®Ÿè£…åŠ¹ç‡ã®æ¸¬å®š
- **ãƒã‚°ç™ºç”Ÿç‡**: å“è³ªã®æ¸¬å®š
- **ãƒ†ã‚¹ãƒˆè¿½åŠ ç‡**: TDDéµå®ˆåº¦ã®æ¸¬å®š
- **MCPæ´»ç”¨ç‡**: æœ€æ–°æƒ…å ±æ´»ç”¨åº¦ã®æ¸¬å®š

### å“è³ªæŒ‡æ¨™
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 80%ä»¥ä¸Šç¶­æŒ
- **æŠ€è¡“çš„è² å‚µ**: å®šæœŸçš„ãªæ¸¬å®šãƒ»æ”¹å–„
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: <2ç§’å¿œç­”æ™‚é–“ç¶­æŒ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: è„†å¼±æ€§ã‚¼ãƒ­ç¶­æŒ

### æ¸¬å®šãƒ»æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«
```bash
# é€±æ¬¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª
git log --since="1 week ago" --pretty=format:"%h %s" | wc -l  # ã‚³ãƒŸãƒƒãƒˆæ•°
grep -c "test_" tests/**/*.py  # ãƒ†ã‚¹ãƒˆæ•°
python -m pytest tests/ --cov=src/ --cov-report=term | grep TOTAL  # ã‚«ãƒãƒ¬ãƒƒã‚¸
```

## ğŸ“ å­¦ç¿’ãƒ»ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—

### ç¶™ç¶šçš„å­¦ç¿’
- **MCPæ´»ç”¨**: å¸¸ã«æœ€æ–°æŠ€è¡“å‹•å‘ã‚’ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—
- **TDDç¿’ç†Ÿ**: ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã®æ·±åŒ–
- **Clean Architecture**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¿’å¾—
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: æœ€é©åŒ–æŠ€è¡“ã®å‘ä¸Š

### ãƒŠãƒ¬ãƒƒã‚¸å…±æœ‰
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼**: æŠ€è¡“çš„çŸ¥è¦‹ã®å…±æœ‰
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**: å­¦ç¿’å†…å®¹ã®æ–‡æ›¸åŒ–
- **ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹è“„ç©**: æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®å…±æœ‰

---

**è©³ç´°ãªæŠ€è¡“ä»•æ§˜ã«ã¤ã„ã¦ã¯ `docs/ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£.md` ã‚’å‚ç…§**  
**é‹ç”¨ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦ã¯ `docs/é‹ç”¨ã‚¬ã‚¤ãƒ‰.md` ã‚’å‚ç…§**