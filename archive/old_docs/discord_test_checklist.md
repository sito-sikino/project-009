# Discord本番環境 動作確認チェックリスト 📋

## 現在時刻: 9:23 (会議フェーズ)

### 🔧 事前確認項目
- [ ] 環境変数(.env)が正しく設定されている
- [ ] 4つのDiscord Botトークンが有効
- [ ] Gemini API keyが有効
- [ ] Redis/PostgreSQLが稼働中（オプション）

### 🚀 システム起動確認
- [ ] `python3 main.py` でエラーなく起動
- [ ] 4つのDiscordクライアント接続成功ログ確認
- [ ] "Daily Workflow System 開始" ログ確認
- [ ] "Autonomous Speech System 開始" ログ確認

### ⏰ 会議フェーズ確認 (現在9:23)
**期待される動作**: 
- 自発発言: lounge以外の全チャンネルで有効
- ユーザー応答: 全チャンネルで有効
- タスクコマンド: 全チャンネルで受付

#### テスト手順:
1. **フェーズ状態確認**
   - [ ] ログで "current_phase: meeting" 確認
   - [ ] 自発発言がlounge以外で発生することを確認

2. **ユーザー応答テスト**
   - [ ] #command_center で「@spectra 調子はどう？」→ Spectra応答
   - [ ] #development で「@lynq 技術的な質問があります」→ LynQ応答  
   - [ ] #creation で「@paz アイデアが欲しい」→ Paz応答
   - [ ] #lounge で「@spectra こんにちは」→ Spectra応答

### 📋 AC-015 タスクコマンドテスト

#### 1. タスク確定コマンド
```
/task commit development "認証システム実装とテスト"
```
**期待結果**:
- [ ] Spectraが#command_centerで確定メッセージ応答
- [ ] 「実務モードに切り替わりました」メッセージ表示
- [ ] 「📋 Channel: #development」表示
- [ ] 「🎯 Task: 認証システム実装とテスト」表示

#### 2. タスク変更コマンド  
```
/task change development "認証システム実装と統合テスト"
```
**期待結果**:
- [ ] Spectraが#command_centerで変更メッセージ応答
- [ ] 「🔄 From: 認証システム実装とテスト」表示
- [ ] 「🎯 To: 認証システム実装と統合テスト」表示

#### 3. 追加タスクコマンド
```
/task commit creation "UIコンポーネント設計"
```
**期待結果**:
- [ ] 2つ目のタスクが正常に確定される
- [ ] #creation でのタスク確定メッセージ

### 🎙️ 実務モード確認

タスク確定後の変化を確認:

#### 自発発言の変化
- [ ] #development での自発発言頻度増加
- [ ] LynQの技術的支援メッセージ増加
- [ ] 「🔧 技術的支援」「🧪 品質保証」等のメッセージ確認

#### チャンネル優先度の変化  
- [ ] タスクが設定されたチャンネルでの発言優先度上昇
- [ ] その他チャンネルでの発言頻度減少

### 🚫 エラーケーステスト

#### 無効なコマンド形式
```
/task commit development 認証システム実装
```
**期待結果**:
- [ ] 「❌ コマンド形式エラー」メッセージ
- [ ] 正しい形式の説明表示

#### 無効なチャンネル
```
/task commit invalid_channel "テスト"
```
**期待結果**:
- [ ] 「❌ 無効なチャンネル: invalid_channel」メッセージ
- [ ] 有効なチャンネル一覧表示

### ⚡ パフォーマンス確認
- [ ] メンション応答時間 < 9秒
- [ ] タスクコマンド応答時間 < 5秒
- [ ] 自発発言の10秒ルール遵守
- [ ] システムエラー無し

### 🔄 10秒ルール確認
- [ ] 自発発言間隔が最低10秒空いている
- [ ] 複数エージェントが短時間で連続発言しない
- [ ] ユーザーメッセージ後の自発発言停止

### 📊 ログ確認項目
```bash
# 重要ログメッセージ
- "📝 Workflow message queued: spectra -> #command_center"
- "✅ Task command processed"
- "🎙️ 自発発言実行: [agent] -> #[channel]"
- "💼 実務モード: タスク関連発言"
```

### 🌅 07:00イベント確認（明日）
明日07:00の日報生成テスト:
- [ ] 「📊 Daily Report」メッセージがSpectraから送信
- [ ] 「🏢 今日の会議を開始いたします」が含まれる
- [ ] #command_centerに送信される
- [ ] Discord Embed形式で表示

### ✅ 成功基準
**基本機能**:
- [ ] 全ボット正常応答 (4/4)
- [ ] タスクコマンド正常動作 (2/2)
- [ ] 実務モード動作確認
- [ ] 10秒ルール遵守
- [ ] エラーハンドリング正常

**上級機能**:
- [ ] Redis連携動作（タスク保存）
- [ ] 自発発言フェーズ制御
- [ ] チャンネル優先度調整
- [ ] Work mode message generation

## 📱 テスト実行順序

1. **システム起動** → ログ確認
2. **基本応答テスト** → 各ボット1回ずつメンション
3. **タスクコマンドテスト** → commit → change
4. **実務モード確認** → 自発発言変化観察
5. **エラーケーステスト** → 無効コマンド
6. **パフォーマンス確認** → 応答時間測定

## 🚨 問題発生時の対処

- **ボット応答なし** → ログでエラー確認、トークン確認
- **コマンド認識しない** → ログで受信確認、形式確認  
- **実務モード無効** → current_tasks確認、ログ確認
- **10秒ルール違反** → last_speech_time確認

---

**テスト開始時刻**: ___:___
**テスト完了時刻**: ___:___
**総合評価**: [ ] 合格 / [ ] 要修正